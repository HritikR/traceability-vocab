$linkedData:
  term: MasterBillOfLading
  '@id': https://w3id.org/traceability#MasterBillOfLading
title: Master Bill Of Lading
description: A separately identifiable collection of goods items to be transported or available to be transported from one consignor to one consignee via one or more modes of transport where each consignment is the subject of one single transport contract.
type: object
properties:
  type:
    oneOf:
      - type: array
      - type: string
        enum:
          - MasterBillOfLading
  billOfLadingNumber:
    title: Bill Of Lading Number
    description: >-
      A unique number allocated by the shipping line to the transport document
      and the main number used for the tracking of the status of the shipment.
    type: string
    $linkedData:
      term: billOfLadingNumber
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncl1153/#Bill_of_lading_number
  bookingNumber:
    title: Booking Number
    description:  A unique identifier assigned by the carrier to the consignment, such as a booking reference number when cargo space is reserved prior to loading.
    type: array
    items: 
      type: string
    $linkedData:
      term: bookingNumber
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#carrierAssignedId
  shippersReferences:
    title: Shipper's References
    description: A number that identifies the SID (shipper's identification) number for a shipment.
    type: array
    items: 
      type: string
    $linkedData:
      term: shippersReferences
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncl1153/#SID_(Shipper's_identifying_number_for_shipment)
  freightForwardersReferences:
    title: Freight Forwarder's References
    description: Reference number assigned by the freight forwarder to identify a particular consignment.
    type: array
    items: 
      type: string
    $linkedData:
      term: shippersReferences
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncl1153/#Consignment_identifier_freight_forwarder_assigned
  shippedOnBoardDate:
    title: Shipped On Board Date
    description: >-
      Date when the last container that is linked to the transport document is
      physically loaded onboard the vessel indicated on the transport document.
    type: string
  declaredValue:
    title: Declared Value
    description: The monetary value of the consignment or consignment item as declared by the shipper or his agent for the purpose of varying the carrier's level of liability from that provided in the contract of carriage, in case of loss or damage to goods or delayed delivery.
    $ref: ./PriceSpecification.yml
    $linkedData:
      term: declaredValue
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncefact/#declaredValueForCarriageAmount

  shipper: 
    title: Shipper
    description: A consignor party for the consignment.
    $ref: ./Entity.yml
    $linkedData:
      term: shipper
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncefact/#consignorParty
  consignee:
    title: Consignee
    description: A consignee party for the consignment.
    $ref: ./Entity.yml
    $linkedData:
      term: consignee
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#consigneeParty
  forwardingAgent: 
    title: Forwarding Agent
    description: The freight forwarder party for this supply chain consignment.
    $ref: ./Entity.yml
    $linkedData:
      term: notifyParty
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#freightForwarderParty
  notifyParty:
    title: Notify Party
    description: The freight forwarder party for this supply chain consignment.
    type: array 
    items: 
      $ref: ./Entity.yml
    $linkedData:
      term: notifyParty
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#notifyParty
  carrier:
    title: Carrier
    description: A carrier party.
    $ref: ./Entity.yml
    $linkedData:
      term: carrier
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#carrierParty
  manufacturingCountry: 
    title: Manufacturing Country
    description: Manufacturing country.
    type: string
    $linkedData:
      term: countryOfOrigin
      '@id': https://w3id.org/traceability#countryOfOrigin
  totalNumberOfPackages: 
    title: Total Number of Packages
    description: A number of packages.
    type: number
    $linkedData:
      term: totalNumberOfPackages
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncefact/#packageQuantity
  dateOfExport:
    title: Date of Export
    description: The date, time, date time, or other date time value when this supply chain consignment will exit, or has exited from, the last port, airport, or border post of the country of export.
    type: string
    $linkedData:
      term: dateOfExport
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncefact/#exportExitDateTime
      '@type': http://www.w3.org/2001/XMLSchema#dateTime
  includedConsignmentItem:
    title: Included Consignment Item
    description: A consignment item included in the consignment.
    $ref: ./ConsignmentItem.yml
    $linkedData:
      term: includedConsignmentItem
      '@id': https://service.unece.org/trade/uncefact/vocabulary/uncefact/#includedConsignmentItem
  termsAndConditions:
    title: Terms And Conditions
    description: Carrier general terms and conditions for this transport document.
    type: string
    $linkedData:
      term: termsAndConditions
      '@id': >-
        https://service.unece.org/trade/uncefact/vocabulary/uncefact/#termsAndConditionsDescription
required:
  - billOfLadingNumber
example: |-
  {
    "type": "Consignment",
    "bookingNumber": [
      "EX600822199"
    ],
    "billOfLadingNumber": "EX600822199A",
    "shipper": {
      "type": "Organization",
      "name": "Espresso Italiano Co.",
      "address": {
        "type": "PostalAddress",
        "streetAddress": "Via Vico Ferrovia 5",
        "addressLocality": "Goro",
        "addressRegion": "Ferrara",
        "postalCode": "44020",
        "addressCountry": "IT"
      },
      "email": "sales@espresso-italiano.example.com",
      "phoneNumber": "+39 0351 9067195"
    },
    "consignee": {
      "type": "Organization",
      "name": "Prosumer Coffee Supplies, Ltd.",
      "description": "Coffee Machine Imports",
      "address": {
        "type": "PostalAddress",
        "streetAddress": "3934 Spinnaker Lane",
        "addressLocality": "Joliet",
        "addressRegion": "Illinois",
        "postalCode": "60432",
        "addressCountry": "US"
      }
    },
    "notifyParty": [
      {
        "type": "Organization",
        "name": "Prosumer Coffee Supplies, Ltd.",
        "description": "Coffee Machine Imports",
        "address": {
          "type": "PostalAddress",
          "streetAddress": "3934 Spinnaker Lane",
          "addressLocality": "Joliet",
          "addressRegion": "Illinois",
          "postalCode": "60432",
          "addressCountry": "US"
        }
      }
    ],
    "carrier": {
      "type": "Organization",
      "id": "did:key:z6Mku6sNEit2qhNyaKDoj6ozURx5ApD85Za5g6dmnpYi6Auv",
      "name": "MULTI CONTAINER LINE",
      "address": {
        "type": "PostalAddress",
        "organizationName": "MCL Multi Container Line LTD.",
        "streetAddress": "Rm. 3501, 35/F Manhatten Place, 23 Wang Tai Road",
        "addressLocality": "Kowloon Bay",
        "addressRegion": "Hong Kong",
        "addressCountry": "Hong Kong SAR"
      }
    },
    "manufacturingCountry": "IT",
    "totalNumberOfPackages": 880,
    "dateOfExport": "2022-02-02T09:30:00Z",
    "consignmentItems": [
      {
        "marksAndNumbers": "Espresso Italiano",
        "commodity": {
          "type": "Commodity",
          "commodityCode": "851671",
          "commodityCodeType": "HS"
        },
        "quantity": 880,
        "netWeight": {
          "type": "QuantitativeValue",
          "unitCode": "kg",
          "value": "14600"
        },
        "netWeight": {
          "type": "QuantitativeValue",
          "unitCode": "kg",
          "value": "15960"
        }
      }
    ]
  }